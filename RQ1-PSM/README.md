# RQ1: PSM Metamodel

Source artifacts of each microservice architecture projects used in our study were packaged and uploaded into one GitHub repository. Artefacts contained in each repository can be classified into two main elements:

## 1. SystemProjectArtifactsModel

PSM concepts that map to *system-level* classifiaction of artifacts are provided in the table below: 

PSM Concept | PSM Attribute(s) | Description
------------ | ------------- | -------------
`SystemProjectArtifactsModel` | `ProjectName`, `ArtifactsRepositoryURI` | represents the *system-level* project artefacts. `SystemProjectArtifactsModel` is described by architecture’s project name and its root repository URI. 
`SystemProjectArtifactFile`| `FileName` | this element generalizes files that configure building, orchestrating and integrating all modules/application projects aggregated in a microservice-based architecture project. `SystemProjectArtifactFile` element is described by its file name including full path as well as by the system’s project name to which this file belongs. According to our empirical study, there were two classes of such file type appeared in all stud-ies, namely, `DockerComposeFile` and `SystemProjectBuildFile`. Aiming to make our PSM extendible and reusable, we assumed that there may be more than two subtypes of such file.
`DockerComposeFile` | | this element maps to Docker compose file, i.e. a YAML file that defines orchestration of microservice applica-tions’ containers at runtime and other network-related information, i.e. links among containers. One `DockerComposeFile` represents one consolidated Docker compose file that has many service definition keys, mapped to `ContainerDefinition` elements, each has zero or many ‘links’ / ’depends_on’ keys, mapped to `ContainerDependency` elements.
`ContainerDefinition` | `ServiceName`, `ImageField`, `BuildField`, `LoggingField`, `VolumesLogField` | this element may refer to a local microservice project, mapped by `MicroserviceProjectArtifactsModel` element, or to an image of an external service, e.g. located in Docker hub repository.  
`ContainerDependency` | `DependencyOrder` | this element represents an ordered dependency association between one dependent / consumer `ContainerDefinition` element to one or many `ContainerDefinition` ‘provider’ elements. 
`SystemProjectBuildFile` | `ProjectArtifactId` | this element is a generalization of any artefact generated by a build framework used to compile the root project along with its subprojects. For example, two frameworks were found in the selected studies used to build `Spring Boot` applications; `Maven`and `Gradle`. Maven build file is an XML representation of a project held in a file named `pom.xml`. POM stands for "Project Object Model". A **Maven** project could represent an entire system project or an individual micro service’s project. A system root project consisting of subprojects and built by Maven framework will have names of its subprojects enclosed between `<module></module>` XML ele-ment. **Gradle** build file is a settings file used by Gradle framework to assemble the project description, its sub-projects and dependencies for a build. Its name is `settings.gradle` and it uses `include` commands to build related subprojects. Unsurprisingly, a `SystemProjectBuildFile` element references all ‘local’ subprojects constructing an architecture project where each subproject is represented by `MicroserviceProjectArtifactsModel` element. 
`MicroserviceProjectArtifactsModel` | `ModuleName` | this element is simply an aggregation of all artefacts generated by `Spring Framework` and related to one ‘local’ microservice project composing an architecture project. `MicroserviceProjectArtifactsModel` has elements corresponding to a particular type of microservice project artefact file. 

## 2. MicroserviceProjectArtifactsModel

Represents *microservice-level* project artefacts.  `MicroserviceProjectArtifactsModel` element is composed of many elements that model different types of system project artefacts and their content as explained in the following:

PSM Concept | PSM Attribute(s) | Description
------------ | ------------- | -------------
`MicroserviceProjectArtifactFile` | `ProjectName`, `ArtifactFileName` | this element generalizes artefacts generated by Spring framework and related to one microservice project including container’s build, application’s build, application’s configurations as well as application’s java source files. Typically, these files are generated and required for any java project built using `Spring Framework`. However, this generalized element can be extended to include additional and new artefact types.
`DockerFile` | `CommandFROM`, `CommandRUN` | this element maps to one `Dockerfile` which is a script file that is used to run service container’s image inside Docker. File structure consists of many commands out of which only two commands were considered; ‘FROM’ whose argument is the application’s image name and ‘RUN’ whose argument is a set of commands required to deploy the application.
`MicroserviceProjectBuildFile` | `ProjectParentArtifactId` | this element is similar in purpose to `SystemProjectBuildFile` except that it is generated for one microservice project instead of multi-module system project. The structure of this file consist of one or many `DependencyLibrary` elements. 
